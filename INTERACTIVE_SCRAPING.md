# 🎮 交互式抓取模式使用指南

## ✨ 新特性：持续抓取模式

**问题**: 游戏资源是动态加载的，一次性加载页面无法抓取到所有资源。

**解决方案**: 交互式持续抓取模式！让你可以边玩游戏边抓取资源。

---

## 🚀 使用流程

### 步骤 1: 输入游戏网址

在 WebCat 主窗口中输入游戏的 URL 地址。

```
例如: https://example.com/cocos-game/index.html
```

### 步骤 2: 点击"开始抓取"

点击 **🚀 开始抓取** 按钮后：

1. ✅ 会打开一个**新的浏览器窗口**（抓取窗口）
2. ✅ 游戏会在这个窗口中加载
3. ✅ 开始实时监听所有网络请求

**主窗口显示**:
```
✨ 正在抓取中...
✨ 请在打开的浏览器窗口中操作游戏，资源将实时收集
🎮 触发游戏的各种功能来加载更多资源
🛑 完成后点击"停止抓取"按钮
```

### 步骤 3: 在抓取窗口中玩游戏 🎮

**这是关键！** 在打开的浏览器窗口中：

- ✅ **开始游戏** - 触发初始资源加载
- ✅ **点击各个按钮** - 加载UI资源
- ✅ **进入不同场景** - 加载场景资源
- ✅ **播放音乐** - 加载音频资源
- ✅ **观看动画** - 加载动画资源
- ✅ **打开商店/背包** - 加载商品图片
- ✅ **尝试所有功能** - 触发更多动态资源

### 步骤 4: 观察实时收集

在 **WebCat 主窗口**中：

- 📊 资源列表会**实时更新**
- 📈 状态栏显示: `抓取中 - 已收集 XX 个资源`
- 🔄 每找到新资源都会立即显示

**示例**:
```
抓取中 - 已收集 5 个资源
抓取中 - 已收集 12 个资源  (点击了开始按钮)
抓取中 - 已收集 28 个资源  (进入了关卡)
抓取中 - 已收集 45 个资源  (打开了商店)
```

### 步骤 5: 停止抓取

当你觉得已经收集够了，或者游戏已经玩完了：

1. 回到 **WebCat 主窗口**
2. 点击 **⏸️ 停止抓取** 按钮
3. 抓取窗口会自动关闭
4. 所有收集的资源保留在列表中

**状态栏显示**:
```
抓取完成！共收集 45 个资源
```

### 步骤 6: 筛选和下载

现在你可以：

1. 📝 使用筛选功能过滤资源类型
2. ✅ 勾选需要下载的资源
3. 📁 选择保存目录
4. 💾 点击"开始下载"

---

## 💡 高级技巧

### 技巧 1: 系统性触发资源

按顺序触发游戏功能，确保不遗漏：

```
✅ 主菜单 → 设置 → 关于
✅ 开始游戏 → 第一关 → 第二关 → ...
✅ 商店 → 每个商品都点开看看
✅ 角色界面 → 切换不同角色/皮肤
✅ 成就/任务界面
✅ 排行榜
✅ 好友/社交功能
```

### 技巧 2: 观察资源增长

如果资源数量不再增长，说明：

- ✅ 当前场景的资源已经加载完
- ⚠️ 需要进入其他场景或触发其他功能

### 技巧 3: 多轮抓取

如果游戏很复杂：

1. 第一轮：抓取主要流程（开始游戏到结束）
2. 第二轮：专门抓取特殊功能（商店、成就等）
3. 第三轮：抓取隐藏内容（彩蛋、特殊事件）

### 技巧 4: 检查资源类型

实时观察左侧筛选面板的数字：

```
📷 图片 (23)   ← 如果太少，可能还有场景没进入
🎵 音频 (8)    ← 试试触发背景音乐和音效
🎬 视频 (2)    ← 可能有过场动画
📝 脚本 (15)   ← 游戏逻辑代码
```

### 技巧 5: 关键词搜索

使用搜索功能快速定位：

- `bg` 或 `background` - 背景图片
- `sprite` 或 `character` - 角色精灵
- `sound` 或 `audio` - 音频文件
- `scene` - 场景文件
- `ui` - UI 元素

---

## 🎯 实战案例

### 案例 1: 休闲益智游戏

```
1. 输入 URL: https://game.example.com/puzzle
2. 点击"开始抓取"
3. 在抓取窗口：
   - 进入主菜单 (收集 8 个资源)
   - 点击"开始游戏" (收集 15 个资源)
   - 玩第 1-1 关 (收集 12 个资源)
   - 玩第 1-2 关 (收集 5 个新资源)
   - 打开商店 (收集 20 个资源)
   - 查看成就 (收集 3 个资源)
4. 点击"停止抓取"
5. 总共收集 63 个资源
```

### 案例 2: RPG 冒险游戏

```
1. 输入 URL 并开始抓取
2. 在抓取窗口：
   - 创建角色 (收集角色模型和 UI)
   - 新手村 (收集场景资源)
   - 第一个副本 (收集怪物、技能特效)
   - 装备系统 (收集装备图标)
   - 技能树 (收集技能图标)
   - 地图系统 (收集地图图片)
3. 停止后发现收集了 200+ 资源
```

### 案例 3: 卡牌游戏

```
重点关注:
- 每张卡牌的图片
- 卡牌稀有度特效
- 抽卡动画
- 战斗特效
- UI 音效

操作步骤:
1. 进入卡组界面 → 浏览所有卡牌
2. 模拟抽卡 → 触发抽卡动画
3. 进入战斗 → 使用各种卡牌
4. 查看图鉴 → 加载所有卡牌缩略图
```

---

## ⚠️ 注意事项

### ✅ 建议做的事

- **慢慢玩**: 给资源加载留出时间
- **检查网络**: 确保网络稳定，资源能正常加载
- **观察状态栏**: 实时了解收集进度
- **多触发功能**: 尽可能点击所有可点击的元素

### ❌ 不建议做的事

- **快速点击**: 可能导致资源还未加载就跳转了
- **立即停止**: 刚打开就停止，资源还没加载完
- **关闭抓取窗口**: 应该用"停止抓取"按钮，不要直接关窗口
- **网络不稳定时抓取**: 可能导致资源加载失败

---

## 🔍 资源识别规则

WebCat 会自动识别这些类型的资源：

| 类型 | 识别规则 | 示例 |
|------|---------|------|
| 📷 图片 | .jpg .png .webp .svg 等 | bg_main.png |
| 🎵 音频 | .mp3 .wav .ogg 等 | bgm_menu.mp3 |
| 🎬 视频 | .mp4 .webm 等 | intro.mp4 |
| 📝 脚本 | .js .jsc .ts 等 | game.js |
| 🎨 样式 | .css | style.css |
| 🔤 字体 | .woff .ttf 等 | font.woff2 |
| 📋 JSON | .json | config.json |
| 🎮 Cocos | .plist .atlas .bin 等 | sprite.plist |

---

## ❓ 常见问题

### Q: 抓取窗口可以最小化吗？

**A**: 可以，但建议保持可见，方便操作游戏。

### Q: 可以同时抓取多个游戏吗？

**A**: 目前一次只能抓取一个。停止当前抓取后才能开始新的。

### Q: 为什么有些资源重复了？

**A**: WebCat 会自动去重，相同 URL 的资源只会记录一次。

### Q: 抓取窗口意外关闭了怎么办？

**A**: 已收集的资源会保留，但抓取会自动停止。可以重新开始抓取。

### Q: 如何知道是否抓取完整了？

**A**: 
1. 资源数量不再增长
2. 已经玩遍游戏的所有功能
3. 筛选面板中各类型资源数量合理

### Q: 抓取会影响游戏性能吗？

**A**: 基本不会，只是被动监听网络请求。

---

## 🎨 界面说明

### 抓取状态指示

**未抓取**:
```
[🚀 开始抓取] 按钮显示
提示: ⚠️ 请确保输入的是合法的网页地址
```

**抓取中**:
```
[⏸️ 停止抓取] 按钮显示 (红色，带脉冲动画)
🔵 蓝色脉冲点
提示: 
  ✨ 正在抓取中...
  ✨ 请在打开的浏览器窗口中操作游戏
  🎮 触发游戏的各种功能来加载更多资源
  🛑 完成后点击"停止抓取"按钮
```

### 状态栏显示

```
总资源: 45 | 已筛选: 32 | 已选择: 8
状态: 抓取中 - 已收集 45 个资源
```

---

## 🚀 下一步

抓取完成后：

1. [筛选资源](USER_GUIDE.md#资源筛选) - 按类型和关键词过滤
2. [下载资源](USER_GUIDE.md#下载资源) - 批量下载到本地
3. [分析资源](USER_GUIDE.md#资源分析) - 查看资源结构

---

**祝你抓取愉快！** 🎉

有问题查看 [故障排除指南](TROUBLESHOOTING.md) 或提交 Issue。
